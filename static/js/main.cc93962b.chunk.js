(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{116:function(e,t,a){e.exports=a.p+"static/media/life_of_pi.f665c585.jpg"},117:function(e,t,a){e.exports=a.p+"static/media/billylynn.c466dc88.jpg"},200:function(e,t,a){e.exports={Footer:"Bl8hkBEVAnbkpwqcwNaFb"}},201:function(e,t,a){e.exports=a.p+"static/media/sejie.1a15da76.jpeg"},202:function(e,t,a){e.exports=a.p+"static/media/woodstock.76ca7815.jpg"},203:function(e,t,a){e.exports=a.p+"static/media/lifeOfPi-min.219e02f6.jpg"},218:function(e,t,a){e.exports=a(412)},223:function(e,t,a){},412:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(8),c=a.n(l),i=(a(223),a(24)),o=a(25),s=a(27),m=a(26),u=a(28),d=a(23),p=a(55),v=a(35),f=a(413),b=a(86),h=a(36);function E(){var e=Object(v.a)(["\n  padding: 0;\n"]);return E=function(){return e},e}function g(){var e=Object(v.a)(["\n  float: right;\n"]);return g=function(){return e},e}var y=f.a.Header,w=Object(h.a)(b.b.Item)(g()),k=Object(h.a)(y)(E()),O=function(){return r.a.createElement(k,null,r.a.createElement(b.b,{theme:"dark",mode:"horizontal",style:{lineHeight:"64px"}},r.a.createElement(b.b.Item,{key:"home"},r.a.createElement("span",null,"Ang Lee Dashboard"),r.a.createElement(d.c,{to:"/",exact:!0})),r.a.createElement(w,{key:"dashboard"},r.a.createElement("span",null,"Dashboard"),r.a.createElement(d.c,{to:"/dashboard",exact:!0})),r.a.createElement(w,{key:"admin"},r.a.createElement("span",null,"Admin "),r.a.createElement(d.c,{to:"/admin",exact:!0}))))},j=a(126),C=a(82),x=a(200),M=a.n(x),I=function(e){return r.a.createElement("footer",{className:M.a.Footer},r.a.createElement("ul",null,r.a.createElement("li",null,"this site for my dear Renee"),r.a.createElement("li",null,"Renee is the best!"),r.a.createElement("li",null,r.a.createElement(j.a,{icon:C.a,style:{margin:"0 0.5em 0 0.5em"}}),r.a.createElement(j.a,{icon:C.b,style:{margin:"0 0.5em 0 0.5em"}}),r.a.createElement(j.a,{icon:C.c,style:{margin:"0 0.5em 0 0.5em"}}))))},N=a(116),D=a.n(N),R=a(117),S=a.n(R),A=a(201),K=a.n(A),L=a(202),_=a.n(L),T=a(63),U=a.n(T);function F(){var e=Object(v.a)(["\n  background-image: ",";\n"]);return F=function(){return e},e}var H=h.a.li(F(),function(e){return"url(".concat(e.url,")")}),G=function(){return r.a.createElement("div",null,r.a.createElement("div",{className:U.a.HeadOfGrid},r.a.createElement("h1",null,"Welcome to Ang Lee Dashboard"),r.a.createElement("p",null,"browse our top pick AngLee movies and see our statistical studies."),r.a.createElement("hr",null)),r.a.createElement("ul",null,r.a.createElement("div",{className:U.a.MovieGrid},r.a.createElement(H,{className:U.a.Small,url:K.a}),r.a.createElement(H,{className:U.a.Large,url:S.a})),r.a.createElement("div",{className:U.a.MovieGrid},r.a.createElement(H,{className:U.a.Large,url:D.a}),r.a.createElement(H,{className:U.a.Small,url:_.a}))))},z=a(414),B=a(203),J=a.n(B);function P(){var e=Object(v.a)(['\n  font: normal 28px "Open Sans", sans-serif;\n  margin-bottom: 40px;\n\topacity: 0.9;\n\tcolor: #fff;\n']);return P=function(){return e},e}function V(){var e=Object(v.a)(['\n  font: bold 60px "Open Sans", sans-serif;\n  margin-bottom: 15px;\n\topacity: 0.9;\n\tcolor: #fff;\n']);return V=function(){return e},e}function q(){var e=Object(v.a)(["\n  opacity: 0;\n  margin-top: 100px;\n  animation: 1s slidefade 1s forwards;\n"]);return q=function(){return e},e}function W(){var e=Object(v.a)(["\n  position: relative;\n  justify-content: center;\n  text-align: center;\n  min-height: 100vh;\n  color: #fff;\n"]);return W=function(){return e},e}function Y(){var e=Object(v.a)(["\n  position: absolute;\n\ttop: 0;\n\tleft: 0;\n  width: 100%;\n  height: 100%\n  background-image: ",";\n  background-size: cover;\n"]);return Y=function(){return e},e}var Z=h.a.div(Y(),function(e){return"url(".concat(e.url,")")}),$=h.a.div(W()),Q=h.a.div(q()),X=h.a.h1(V()),ee=h.a.h3(P()),te=r.a.createElement(Q,null,r.a.createElement(X,null,"Welcome to Ang Lee Dashboard"),r.a.createElement(ee,null,"For our lovely Ang Lee movie fans")),ae=function(){return r.a.createElement(z.a,{effect:"fade"},r.a.createElement($,null,r.a.createElement(Z,{url:D.a}),te),r.a.createElement($,null,r.a.createElement(Z,{url:S.a}),te),r.a.createElement($,null,r.a.createElement(Z,{url:J.a}),te))},ne=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"AngLeeDashBoard"},r.a.createElement(ae,null),r.a.createElement(G,null),r.a.createElement(I,null))}}]),t}(n.Component),re=a(118),le=a.n(re),ce=le.a.create({baseURL:"https://anglee-dashboard-core.herokuapp.com"}),ie=le.a.create({baseURL:"https://anglee-dashboard-crawler.herokuapp.com"}),oe=a(420),se=a(97),me=a(9);function ue(){var e=Object(v.a)(["\n  height: 200px;\n  background-image: ",";\n  background-size: cover;\n"]);return ue=function(){return e},e}var de=oe.a.Meta,pe=h.a.div(ue(),function(e){return"url(".concat(e.url,")")}),ve=function(e){var t=e.movie.releaseDate.split("T")[0],a={};return e.isAdmin&&(a=[r.a.createElement(se.a,{placement:"bottom",title:"edit"},r.a.createElement(me.a,{type:"edit"})),r.a.createElement(se.a,{placement:"bottom",title:"crawl"},r.a.createElement(me.a,{type:"rocket",onClick:function(){return e.crawlTheInternet(e.movie)}})),r.a.createElement(se.a,{placement:"bottom",title:"delete"},r.a.createElement(me.a,{type:"delete",onClick:function(){return e.deleteMovie(e.movie)}}))]),r.a.createElement(oe.a,{hoverable:!0,onClick:function(){e.cardOnClick?e.cardOnClick(e.movie):console.log("not clickable")},cover:r.a.createElement(pe,{url:e.movie.imageUrl}),actions:a,loading:e.loading,size:"small"},r.a.createElement(de,{title:e.movie.title,description:t}))},fe=a(424),be=function(e){var t=r.a.createElement("div",{className:"loader"});return e.movies&&(t=r.a.createElement(fe.a,{grid:{gutter:16,x2:1,sm:2,md:3,lg:4,xl:4,xxl:4},dataSource:e.movies,renderItem:function(t){return r.a.createElement(fe.a.Item,null,r.a.createElement(ve,{isAdmin:e.isAdmin,movie:t,deleteMovie:e.deleteMovie,crawlTheInternet:e.crawlTheInternet,cardOnClick:e.handleCardOnClick}))}})),t},he=f.a.Sider,Ee=f.a.Footer,ge=function(e){return r.a.createElement(f.a,{style:{minHeight:"100vh"}},r.a.createElement(he,{collapsible:!0,collapsed:e.collapsed,onCollapse:e.onCollapse},r.a.createElement(b.b,{theme:"dark",selectedKeys:e.selectedKeys,mode:"inline"},r.a.createElement(b.b.Item,{key:"movieCards",onClick:function(){e.updateMenuKey(["movieCards"])}},r.a.createElement(me.a,{type:"database"}),r.a.createElement("span",null,"Our studies"),r.a.createElement(d.b,{to:e.rootUrl})),r.a.createElement(b.b.Item,{key:"add",onClick:function(){e.updateMenuKey(["add"])}},r.a.createElement(me.a,{type:"plus-circle"}),r.a.createElement("span",null,"Add new movie"),r.a.createElement(d.b,{to:"".concat(e.rootUrl,"/add")})))),r.a.createElement(f.a,null,e.content,r.a.createElement(Ee,{style:{textAlign:"center"}},"Ang Lee Dashboard \xa92019 Created by Kurt & Renee")))},ye=a(215),we=a(422),ke=a(418),Oe=a(419),je=a(61),Ce=we.a.TextArea,xe=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={sumbitted:!1},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){if(!e){var n=Object(ye.a)({},t,{releaseDate:t["date-picker"]});console.log("Received values of form: ",n),a.props.addMovie(n).then(function(){a.setState({sumbitted:!0})})}})},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"getFormFields",value:function(){return[{fieldName:"title",labelName:"Movie Name",iconName:"play-circle"},{fieldName:"imageUrl",labelName:"Movie Poster Url",iconName:"link"},{fieldName:"iMDbId",labelName:"IMDb review id",iconName:"barcode"}]}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=function(e){return{rules:[{required:!0,message:"Please enter ".concat(e.toLowerCase())}]}},a=this.getFormFields().map(function(a){return function(a){return r.a.createElement(ke.a.Item,{label:a.labelName,key:a.labelName},e(a.fieldName,t(a.labelName))(r.a.createElement(we.a,{prefix:r.a.createElement(me.a,{type:a.iconName,style:{color:"rgba(0,0,0,.25)"}}),placeholder:a.labelName,style:{width:270}})))}(a)}),n=r.a.createElement(ke.a.Item,{label:"description"},e("description",t("description"))(r.a.createElement(Ce,{placeholder:"description",style:{width:270}}))),l=null;return this.state.sumbitted&&(l=r.a.createElement(p.a,{to:"/anglee-dashboard/admin/"})),r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},l,r.a.createElement(oe.a,{title:"Add Movie",style:{width:650}},r.a.createElement(ke.a,Object.assign({},{labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},{onSubmit:this.handleSubmit}),a,r.a.createElement(ke.a.Item,{label:"Release Date"},e("date-picker",{rules:[{type:"object",required:!0,message:"Please select time!"}]})(r.a.createElement(Oe.a,null))),n,r.a.createElement(ke.a.Item,{wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}},r.a.createElement(je.a,{type:"primary",htmlType:"submit"},"Add")))))}}]),t}(r.a.Component),Me=ke.a.create({name:"movie_form"})(xe),Ie=f.a.Content,Ne=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={movies:[],collapsed:!0,selectedKeys:["movieCards"]},a.onCollapse=function(e){a.setState({collapsed:e})},a.crawlTheInternet=function(e){var t=[];ce.get("/reviews/imdb/".concat(e.title)).then(function(e){t=e.data.reviews}).then(function(){0===t.length?a._executeCrawling(e):console.log("already crawled movie: ".concat(e.title))})},a._executeCrawling=function(e){return console.log("starting to crawl the movie: ".concat(e.title," ...")),ie.post("/crawlIMDb",e).then(function(e){return console.log("crawling job done!"),ce.post("/reviews/imdb/add-review",e.data)}).then(function(t){console.log(t.data),console.log("crawling result for movie : ".concat(e.title," is saved to db"))}).catch(function(e){return console.log(e)})},a.getMovies=function(){return ce.get("/movies").then(function(e){var t=e.data.movies;a.setState({movies:t})})},a.addMovie=function(e){return ce.post("/add-movie",e).then(function(e){return a.getMovies()}).then(function(){console.log("refreshed admin page"),a.setState({selectedKeys:["movieCards"]})}).catch(function(e){return console.log(e)})},a.deleteMovie=function(e){var t=e._id,n=e.title;console.log("called deleteMovie at Admin",t),ce.post("/delete-movie",{movieId:t}).then(function(e){return console.log(e.data),ce.post("/reviews/imdb/delete-review",{movieName:n})}).then(function(e){return console.log(e.data),a.getMovies()}).catch(function(e){return console.log(e)})},a.updateMenuKey=function(e){a.setState({selectedKeys:e})},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.getMovies()}},{key:"render",value:function(){var e=this,t=r.a.createElement(be,{isAdmin:!0,movies:this.state.movies,deleteMovie:this.deleteMovie,crawlTheInternet:this.crawlTheInternet}),a=r.a.createElement(Ie,{style:{margin:"16px 16px"}},r.a.createElement(p.b,{path:"/admin",exact:!0,render:function(){return t}}),r.a.createElement(p.b,{path:"".concat("/admin","/add"),exact:!0,render:function(){return r.a.createElement(Me,{addMovie:e.addMovie})}}));return r.a.createElement(ge,{collapsed:this.state.collapsed,content:a,rootUrl:"/admin",onCollapse:this.onCollapse,selectedKeys:this.state.selectedKeys,updateMenuKey:this.updateMenuKey})}}]),t}(n.Component),De=f.a.Footer,Re=f.a.Sider,Se=b.b.SubMenu,Ae=function(e){return r.a.createElement(f.a,{style:{minHeight:"100vh"}},r.a.createElement(Re,{collapsible:!0,collapsed:e.collapsed,onCollapse:e.onCollapse},r.a.createElement("div",{className:"logo"}),r.a.createElement(b.b,{theme:"dark",selectedKeys:e.selectedKeys,mode:"inline"},r.a.createElement(b.b.Item,{key:"statistics",onClick:function(){e.updateMenuKey(["statistics"])}},r.a.createElement(me.a,{type:"pie-chart"}),r.a.createElement("span",null,"Statistics"),r.a.createElement(d.b,{to:e.rootUrl})),r.a.createElement(Se,{key:"reviews",title:r.a.createElement("span",null,r.a.createElement(me.a,{type:"solution"}),r.a.createElement("span",null,"Reviews"))},r.a.createElement(b.b.Item,{key:"imdb",onClick:function(){e.updateMenuKey(["imdb"])}},r.a.createElement("span",null,"IMDb")," ",r.a.createElement(d.b,{to:"".concat(e.rootUrl,"/imdbReview")})),r.a.createElement(b.b.Item,{key:"rotten"}," Rotten Tomatoes "),r.a.createElement(b.b.Item,{key:"metacritic"}," Metacritic "),r.a.createElement(b.b.Item,{key:"douban"}," Douban ")))),r.a.createElement(f.a,null,e.content,r.a.createElement(De,{style:{textAlign:"center"}},"Ang Lee Dashboard \xa92019 Created by Kurt & Renee")))},Ke=a(423),Le=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={movie:null,selectedMovie:null},a.handleCardOnClick=function(e){a.setState({selectedMovie:e})},a.getMovies=function(){return ce.get("/movies").then(function(e){var t=e.data.movies;a.setState({movies:t})})},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.getMovies()}},{key:"render",value:function(){return this.state.selectedMovie?r.a.createElement(p.a,{push:!0,to:"imdbReview/".concat(this.state.selectedMovie.title)}):r.a.createElement("div",{style:{margin:" 16px 0"}},r.a.createElement(Ke.a,{style:{margin:"16px 0"}},r.a.createElement(Ke.a.Item,null,"IMDb Reviews")),r.a.createElement(be,{isAdmin:!1,movies:this.state.movies,handleCardOnClick:this.handleCardOnClick}))}}]),t}(n.Component),_e=a(214),Te=a(417),Ue=function(e){var t=[{title:"UserName",dataIndex:"user",key:"user",width:"10%"},{title:"Title",dataIndex:"title",key:"title",width:"30%"},{title:"Date",dataIndex:"date",key:"date",width:"20%"},{title:"Rate",dataIndex:"score",key:"score",width:"10%"},{title:"Tags",key:"tags",dataIndex:"spoiler",width:"10%",render:function(e){if(e)return r.a.createElement(_e.a,{color:"volcano"},"Spolier")}},{title:"Content",key:"content",witdh:"20%",render:function(t){return r.a.createElement(je.a,{type:"primary",onClick:function(){return e.handleReadDetail(t)}},r.a.createElement(d.b,{to:"".concat(t.movieName,"/{movie._id}")}," See Detail "))}}];return r.a.createElement(Te.a,{columns:t,rowKey:function(e){return e._id},loading:e.loading,dataSource:e.reviews})},Fe=a(421),He=a(415),Ge=a(416),ze=Fe.a.Paragraph,Be=He.a.Item,Je=function(e){var t=e.review;return r.a.createElement("div",null,r.a.createElement(He.a,{bordered:!0,title:t.movieName,column:4},r.a.createElement(Be,{label:"Title"},t.title),r.a.createElement(Be,{label:"Date"},t.date),r.a.createElement(Be,{label:"Score"},t.score)),r.a.createElement(Ge.a,{orientation:"left"},"Review Detail"),r.a.createElement(oe.a,{style:{width:"100%"}},t.body.split("\n\n").map(function(e,t){return r.a.createElement(ze,{key:t}," ",e)})))},Pe=(f.a.Content,function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={pagination:{},currentReview:null},a.handleReadDetail=function(e){a.setState({currentReview:e})},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.movieName,n=t.reviews,l=t.loading,c=null,i=r.a.createElement(Ue,Object.assign({reviews:n,loading:l,handleReadDetail:this.handleReadDetail},this.props));if(this.state.currentReview){var o=this.state.currentReview;c=r.a.createElement(Ke.a.Item,null,o.title),i=r.a.createElement(Je,{review:o})}var s=r.a.createElement(Ke.a,{style:{margin:"16px 0 "}},r.a.createElement(Ke.a.Item,{onClick:function(){e.setState({currentReview:null})}},r.a.createElement(d.b,{to:"/dashboard/imdbReview"},"IMDb Reviews")),r.a.createElement(Ke.a.Item,{onClick:function(){e.setState({currentReview:null})}},r.a.createElement(d.b,{to:"/dashboard/imdbReview/".concat(a)},"".concat(a))),c);return r.a.createElement("div",null,s,r.a.createElement("div",{style:{padding:24,background:"#fff",minHeight:360}},i))}}]),t}(n.Component)),Ve=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={reviews:[],loading:!0,movieName:""},a.getIMDbReviews=function(){var e=a.props.match.params.movieName;return ce.get("/reviews/imdb/".concat(e)).then(function(t){var n=t.data.reviews;a.setState({reviews:n,loading:!1,movieName:e})})},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.getIMDbReviews()}},{key:"render",value:function(){var e=this.state,t=e.movieName,a=e.reviews,n=e.loading;console.log(a);return r.a.createElement("div",null,r.a.createElement(Pe,{reviews:a,movieName:t,loading:n}))}}]),t}(n.Component),qe=f.a.Content,We=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={collapsed:!0,selectedKeys:["statistics"]},a.updateMenuKey=function(e){a.setState({selectedKeys:e})},a.onCollapse=function(e){a.setState({collapsed:e})},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=r.a.createElement("div",null,r.a.createElement(Ke.a,{style:{margin:"16px 0"}},r.a.createElement(Ke.a.Item,null,"Dashboard")),r.a.createElement("div",{style:{padding:24,background:"#fff",minHeight:360}},"Renee is an egg")),a=r.a.createElement(qe,{style:{margin:"0 16px"}},r.a.createElement(p.b,{path:"/dashboard",exact:!0,render:function(){return t}}),r.a.createElement(p.b,{path:"/dashboard/imdbReview",exact:!0,render:function(t){return r.a.createElement(Le,Object.assign({handleCardOnClick:e.handleCardOnClick,selectedMovie:e.state.selectedMovie},t))}}),r.a.createElement(p.b,{path:"/dashboard/imdbReview/:movieName",component:Ve}));return r.a.createElement(Ae,{collapsed:this.state.collapsed,onCollapse:this.onCollapse,content:a,selectedKeys:this.state.selectedKeys,rootUrl:"/dashboard",updateMenuKey:this.updateMenuKey})}}]),t}(n.Component),Ye=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(f.a,{className:"layout"},r.a.createElement(d.a,null,r.a.createElement(O,null),r.a.createElement(p.b,{path:"/",exact:!0,component:ne}),r.a.createElement(p.b,{path:"/admin",component:Ne}),r.a.createElement(p.b,{path:"/dashboard",component:We})))}}]),t}(n.Component),Ze=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(Ye,null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(Ze,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},63:function(e,t,a){e.exports={MovieGrid:"xe8pvxhd_pLLsUuD9Bzns",HeadOfGrid:"_11SSkvAiie688YaOVIwnjf",Small:"_3J9eYOIyJViJSjNcolZIVG",Large:"_3_Kzx8KwVxG47h1qbJNx_"}}},[[218,1,2]]]);
//# sourceMappingURL=main.cc93962b.chunk.js.map